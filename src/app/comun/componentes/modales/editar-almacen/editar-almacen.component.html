<h2 mat-dialog-title>Editar empresa</h2>
<mat-dialog-content>
    <form class="container-fluid" #almacenForm="ngForm">
        <div class="row">
            <div class="col-lg-12">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Nombre</mat-label>
                    <input matInput type="text" [(ngModel)]="almacen.nombre" #nombre="ngModel" name="nombre" required>
                    <mat-error *ngIf="(nombre.invalid && (nombre.dirty || nombre.touched)) && nombre.errors.required">
                        Ingresa el nombre del almacen
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <h6>Direccion</h6>
                <hr>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Calle</mat-label>
                    <input matInput type="text" [(ngModel)]="almacen.direccion.calle" #calle="ngModel" name="calle"
                        required>
                    <mat-error *ngIf="(calle.invalid && (calle.dirty || calle.touched)) && calle.errors.required">
                        Ingresa la calle del almacen
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-lg-6">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Colonia</mat-label>
                    <input matInput type="text" [(ngModel)]="almacen.direccion.colonia" #colonia="ngModel"
                        name="colonia" required>
                    <mat-error
                        *ngIf="(colonia.invalid && (colonia.dirty || colonia.touched)) && colonia.errors.required">
                        Ingresa la colonia del almacen
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Numero exterior</mat-label>
                    <input matInput type="number" [(ngModel)]="almacen.direccion.num_ext" #num_ext="ngModel"
                        name="num_ext" required>
                    <mat-error
                        *ngIf="(num_ext.invalid && (num_ext.dirty || num_ext.touched)) && num_ext.errors.required">
                        Ingresa el numero exterior de la direccion
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-lg-4">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Numero interior</mat-label>
                    <input matInput type="number" [(ngModel)]="almacen.direccion.num_int" #num_int="ngModel"
                        name="num_int">
                </mat-form-field>
            </div>
            <div class="col-lg-4">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Codigo postal</mat-label>
                    <input matInput type="number" [(ngModel)]="almacen.direccion.cp" #cp="ngModel" name="cp" required>
                    <mat-error *ngIf="(cp.invalid && (cp.dirty || cp.touched)) && cp.errors.required">
                        Ingresa el codigo postal de la direccion
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Estado</mat-label>
                    <mat-select [(ngModel)]="almacen.direccion.estado" name="estado" #estado="ngModel" required>
                        <mat-option *ngFor="let estado of estados" (click)="buscarMunicipios(estado._id)"
                            [value]="estado.nombre">
                            {{estado.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error
                        *ngIf="(estado.invalid && (estado.dirty || estado.touched)) && estado.errors.required">
                        Por favor ingresa tu estado</mat-error>
                </mat-form-field>
            </div>
            <div class="col-lg-6">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Municipio</mat-label>
                    <mat-select [(ngModel)]="almacen.direccion.ciudad" name="municipio" #municipio="ngModel" required>
                        <mat-option *ngFor="let municipio of municipios" [value]="municipio.nombre">
                            {{municipio.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error
                        *ngIf="(municipio.invalid && (municipio.dirty || municipio.touched)) && municipio.errors.required">
                        Por favor ingresa tu municipio</mat-error>
                </mat-form-field>
            </div>
        </div>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-raised-button color="primary" [mat-dialog-close]="true" [disabled]="!almacenForm.valid">Guardar</button>
    <button mat-raised-button (click)="onNoClick()">Cancelar</button>
</mat-dialog-actions>