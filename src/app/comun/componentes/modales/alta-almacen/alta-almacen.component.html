<h2 mat-dialog-title>Nuevo almacen</h2>
<mat-dialog-content>
    <form class="container-fluid" #almacenForm="ngForm">
        <div class="row">
            <div class="col-lg-12">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Nombre</mat-label>
                    <input matInput type="text" [(ngModel)]="nuevoAlmacen.nombre" #nombre="ngModel" name="nombre"
                        required>
                    <mat-error *ngIf="(nombre.invalid && (nombre.dirty || nombre.touched)) && nombre.errors.required">
                        Ingresa el nombre del almacen
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <h6>Direccion</h6>
                <hr>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Calle</mat-label>
                    <input matInput type="text" [(ngModel)]="nuevoAlmacen.direccion.calle" #calle="ngModel" name="calle"
                        required>
                    <mat-error *ngIf="(calle.invalid && (calle.dirty || calle.touched)) && calle.errors.required">
                        Ingresa la calle del almacen
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-lg-6">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Colonia</mat-label>
                    <input matInput type="text" [(ngModel)]="nuevoAlmacen.direccion.colonia" #colonia="ngModel"
                        name="colonia" required>
                    <mat-error
                        *ngIf="(colonia.invalid && (colonia.dirty || colonia.touched)) && colonia.errors.required">
                        Ingresa la colonia del almacen
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Numero exterior</mat-label>
                    <input matInput type="number" [(ngModel)]="nuevoAlmacen.direccion.num_ext" #num_ext="ngModel"
                        name="num_ext" required>
                    <mat-error
                        *ngIf="(num_ext.invalid && (num_ext.dirty || num_ext.touched)) && num_ext.errors.required">
                        Ingresa el numero exterior de la direccion
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-lg-4">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Numero interior</mat-label>
                    <input matInput type="number" [(ngModel)]="nuevoAlmacen.direccion.num_int" #num_int="ngModel"
                        name="num_int">
                </mat-form-field>
            </div>
            <div class="col-lg-4">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Codigo postal</mat-label>
                    <input matInput type="number" [(ngModel)]="nuevoAlmacen.direccion.cp" #cp="ngModel" name="cp"
                        required>
                    <mat-error *ngIf="(cp.invalid && (cp.dirty || cp.touched)) && cp.errors.required">
                        Ingresa el codigo postal de la direccion
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Ingresa tu estado</mat-label>
                    <mat-select [(ngModel)]="estado" name="estado" #estado2="ngModel" required>
                        <mat-option (click)="buscarMunicipios()" *ngFor="let estado of estados" [value]="estado">
                            {{estado.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error
                        *ngIf="(estado2.invalid && (estado2.dirty || estado2.touched)) && estado2.errors.required">
                        Por favor ingresa tu estado</mat-error>
                </mat-form-field>
            </div>
            <div class="col-lg-6">
                <mat-progress-bar *ngIf="cargando" mode="indeterminate"></mat-progress-bar>
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Ingresa tu municipio</mat-label>
                    <mat-select [disabled]="!seleccionoEstado()" [(ngModel)]="municipio" #municipio2="ngModel"
                        name="municipio" required>
                        <mat-option (click)="setMunicipio()" *ngFor="let municipio of municipios" [value]="municipio">
                            {{municipio.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error
                        *ngIf="(municipio2.invalid && (municipio2.dirty || municipio2.touched)) && municipio2.errors.required">
                        Por favor ingresa tu municipio</mat-error>
                </mat-form-field>
            </div>
        </div>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-raised-button color="primary" [mat-dialog-close]="nuevoAlmacen"
        [disabled]="!almacenForm.valid">Agregar</button>
    <button mat-raised-button (click)="onNoClick()">Cancelar</button>
</mat-dialog-actions>