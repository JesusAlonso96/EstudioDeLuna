<app-cargando [cargando]="cargando" texto="Cargando pedidos..."></app-cargando>
<mat-card class="card container mt-4 p-0">
    <div class="container-fluid">
        <div class="row mt-2">
            <div class="col-lg-12">
              <mat-form-field appearance="outline">
                <input matInput [(ngModel)]="parametroBusqueda" name="parametroBusqueda" (keyup)="aplicarFiltro()"
                  placeholder="Buscar por numero de pedido">
                <button *ngIf="parametroBusqueda" (click)="borrarBusqueda()" mat-button matSuffix mat-icon-button
                  aria-label="Clear">
                  <mat-icon>close</mat-icon>
                </button>
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-4" [@carga]="'in'"
              *ngFor="let pedido of pedidosFiltrados | paginacion:page_size:page_number ">
              <mat-card class="pedido">
                <mat-card-header>
                  <img *ngIf="pedido.foto" mat-card-avatar class="img" [src]="url_fotos + pedido.foto" alt="">
                  <img *ngIf="!pedido.foto" mat-card-avatar class="img" src="../../../assets/imagenes/profile_user.gif" alt="">
                  <mat-card-title>Pedido {{pedido.num_pedido}}</mat-card-title>
                  <mat-card-subtitle>{{pedido.fecha_creacion | formatoFecha:1 | titlecase}}
                  </mat-card-subtitle>
                </mat-card-header>
                <mat-card-actions align="end">
                  <button (click)="verDetalles(pedido)" mat-raised-button color="primary">Ver estado de pedido</button>
                </mat-card-actions>
              </mat-card>
            </div>
          </div>
          <div class="row" *ngIf="pedidos.length == 0">
            <div class="col-lg-12">
              <app-alerta tipo="info" tipo_bootstrap="info" mensaje="No hay pedidos realizados hasta el momento.">
              </app-alerta>
            </div>
          </div>
    </div>
  <mat-paginator  [length]="pedidosFiltrados.length" [pageSize]="page_size" (page)="manejarPaginacion($event)">
  </mat-paginator>
</mat-card>
